<!doctype html><html lang=cn dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>运输层协议概述 | Play With YYF</title><meta name=keywords content="笔记"><meta name=description content="运输层/运输层概述"><meta name=author content="Ye Yunfei"><link rel=canonical href=https://yyf.zone/notes/2021-1-7-overviewoftransportlayer/><link crossorigin=anonymous href=/assets/css/stylesheet.min.1e44d58192cbf6d7a4eb649bc43dbc3d4cc432677e5d8adc69b08c34cbe461ac.css integrity="sha256-HkTVgZLL9tek62SbxD28PUzEMmd+XYrcabCMNMvkYaw=" rel="preload stylesheet" as=style><link rel=icon href=https://yyf.zone/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://yyf.zone/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://yyf.zone/favicon-32x32.png><link rel=apple-touch-icon href=https://yyf.zone/apple-touch-icon.png><link rel=mask-icon href=https://yyf.zone/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="运输层协议概述"><meta property="og:description" content="运输层/运输层概述"><meta property="og:type" content="article"><meta property="og:url" content="https://yyf.zone/notes/2021-1-7-overviewoftransportlayer/"><meta property="og:image" content="https://yyf.zone/papermod-cover.png"><meta property="article:section" content="notes"><meta property="article:published_time" content="2021-01-07T15:11:59+00:00"><meta property="article:modified_time" content="2021-01-07T15:11:59+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yyf.zone/papermod-cover.png"><meta name=twitter:title content="运输层协议概述"><meta name=twitter:description content="运输层/运输层概述"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"","item":"https://yyf.zone/notes/"},{"@type":"ListItem","position":2,"name":"运输层协议概述","item":"https://yyf.zone/notes/2021-1-7-overviewoftransportlayer/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"运输层协议概述","name":"运输层协议概述","description":"运输层/运输层概述\n","keywords":["笔记"],"articleBody":"运输层/运输层概述\n运输层协议概述 运输层的主要任务 网络层为主机之间提供逻辑通信，而运输层为应用进程之间提供端到端的逻辑通信。\n如图，运输层的通信好像就是沿水平方向直接传送数据。但事实上这两个运输层之间并没有一条水平方向的物理连接。数据的传送是沿着图中的虚线方向（经过多个层次）传送的。逻辑通信的意思是“好像是这样通信，但事实上并非真的这样通信”。\n运输层的功能 运输层还要对收到的报文进行差错检测。在网络层中，IP数据报首部中的检验和字段，只检验首部是否出现差错。 运输层向高层用户屏蔽了下面网络核心的细节。 复用和分用应用层所有的应用进程都可以通过运输层再传送到IP层（网络层），这就是复用。运输层从IP层收到发给各应用进程的数据后，必须分别交付指明的各应用进程，这就是分用。 运输层的两个主要协议 用户数据报协议UDP(User Datagram Protocol) 传输控制协议TCP(Transmission Control Protocol) 数据单元 UDP用户数据报 TCP报文段(segment) 传输方式 在传送数据之前不需要建立连接 提供面向连接的服务 可靠性 不可靠的 可靠的 应用场景：\n运输层中端口的概念 端口就是对进程标识符进行“统一度量衡”操作。\n要解决的问题：\n为了实现运输层复用和分用的功能功能，我们必须对应用层的每个应用进程赋予一个非常明确的标志。\n遇到的困难：\n我们知道，在单个计算机中的进程是用进程标识符（一个不大的整数）来标志的。但是在互联网环境下，计算机的操作系统不同，不同的操作系统又使用不同格式的进程标识符。 把特定机器上运行的特定进程指明为通信的最后终点是不可行的。因为进程的创建和撤销都是动态的。 解决问题的方法：\n运输层使用协议端口号(Protocol port number)，或简称端口(port)。虽然通信的终点是应用进程，但只要把所传送的报文交到目的主机的某个合适端口，剩下的工作就由TCP或UDP来完成。此处的端口指软件端口。TCP/IP的运输层用一个16位端口号来标志一个端口。端口号只具有本地意义，它只是为了标志本计算机应用层中的各个进程在和运输层交互时的层间接口。\n硬件端口：不同硬件设备进行交互的接口。 软件端口：应用层的各种协议进程与运输实体进行层间交互的一种地址。\n运输层端口号的分类:\n服务器端使用的端口号\n熟知端口号(well-known port number)或系统端口号，数值为0~1023。这些端口号指派给了TCP/IP最重要的一些应用程序。如下图。 登记端口号。数值为1024~49151。使用这类端口号必须在IANA登记，以防止重复。 客户端使用的端口号\n数值为49152~65535。这类端口号仅在客户进程运行时才动态选择，因此又叫做短暂端口号。\n​\n应用程序 FTP TELNET SMTP DNS TFTP HTTP SNMP SNMP(trap) HTTPS 熟知端口号 21 23 25 53 69 80 161 162 443 参考文献：《计算机网络（第7版）》谢希仁著。\n","wordCount":"69","inLanguage":"cn","datePublished":"2021-01-07T15:11:59Z","dateModified":"2021-01-07T15:11:59Z","author":{"@type":"Person","name":"Ye Yunfei"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://yyf.zone/notes/2021-1-7-overviewoftransportlayer/"},"publisher":{"@type":"Organization","name":"Play With YYF","logo":{"@type":"ImageObject","url":"https://yyf.zone/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://yyf.zone/ accesskey=h title="Play With YYF (Alt + H)">Play With YYF</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://yyf.zone/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://yyf.zone/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://yyf.zone/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://yyf.zone/>Home</a>&nbsp;»&nbsp;<a href=https://yyf.zone/notes/></a></div><h1 class=post-title>运输层协议概述</h1><div class=post-meta><span title='2021-01-07 15:11:59 +0000 UTC'>January 7, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Ye Yunfei</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e8%bf%90%e8%be%93%e5%b1%82%e5%8d%8f%e8%ae%ae%e6%a6%82%e8%bf%b0 aria-label=运输层协议概述>运输层协议概述</a><ul><li><a href=#%e8%bf%90%e8%be%93%e5%b1%82%e7%9a%84%e4%b8%bb%e8%a6%81%e4%bb%bb%e5%8a%a1 aria-label=运输层的主要任务>运输层的主要任务</a></li><li><a href=#%e8%bf%90%e8%be%93%e5%b1%82%e7%9a%84%e5%8a%9f%e8%83%bd aria-label=运输层的功能>运输层的功能</a></li><li><a href=#%e8%bf%90%e8%be%93%e5%b1%82%e7%9a%84%e4%b8%a4%e4%b8%aa%e4%b8%bb%e8%a6%81%e5%8d%8f%e8%ae%ae aria-label=运输层的两个主要协议>运输层的两个主要协议</a></li><li><a href=#%e8%bf%90%e8%be%93%e5%b1%82%e4%b8%ad%e7%ab%af%e5%8f%a3%e7%9a%84%e6%a6%82%e5%bf%b5 aria-label=运输层中端口的概念>运输层中端口的概念</a></li></ul></li></ul></div></details></div><div class=post-content><p>运输层/运输层概述</p><h1 id=运输层协议概述>运输层协议概述<a hidden class=anchor aria-hidden=true href=#运输层协议概述>#</a></h1><h2 id=运输层的主要任务>运输层的主要任务<a hidden class=anchor aria-hidden=true href=#运输层的主要任务>#</a></h2><p>网络层为主机之间提供逻辑通信，而运输层<strong>为应用进程之间提供端到端的逻辑通信</strong>。</p><p><img loading=lazy src=/image/%e8%bf%90%e8%be%93%e5%b1%82.png alt=运输层></p><p>如图，运输层的通信好像就是沿水平方向直接传送数据。但事实上这两个运输层之间并没有一条水平方向的物理连接。数据的传送是沿着图中的虚线方向（经过多个层次）传送的。逻辑通信的意思是“好像是这样通信，但事实上并非真的这样通信”。</p><hr><h2 id=运输层的功能>运输层的功能<a hidden class=anchor aria-hidden=true href=#运输层的功能>#</a></h2><ol><li>运输层还要对收到的报文进行<strong>差错检测</strong>。在网络层中，IP数据报首部中的检验和字段，只检验首部是否出现差错。</li><li>运输层向高层用户<strong>屏蔽</strong>了下面网络核心的细节。</li><li><strong>复用</strong>和<strong>分用</strong>应用层所有的应用进程都可以通过运输层再传送到IP层（网络层），这就是复用。运输层从IP层收到发给各应用进程的数据后，必须分别交付指明的各应用进程，这就是分用。</li></ol><hr><h2 id=运输层的两个主要协议>运输层的两个主要协议<a hidden class=anchor aria-hidden=true href=#运输层的两个主要协议>#</a></h2><table><thead><tr><th></th><th>用户数据报协议UDP(User Datagram Protocol)</th><th>传输控制协议TCP(Transmission Control Protocol)</th></tr></thead><tbody><tr><td>数据单元</td><td>UDP用户数据报</td><td>TCP报文段(segment)</td></tr><tr><td>传输方式</td><td>在传送数据之前不需要建立连接</td><td>提供面向连接的服务</td></tr><tr><td>可靠性</td><td>不可靠的</td><td>可靠的</td></tr></tbody></table><p>应用场景：</p><p><img loading=lazy src=/image/%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af.png alt=应用场景></p><hr><h2 id=运输层中端口的概念>运输层中端口的概念<a hidden class=anchor aria-hidden=true href=#运输层中端口的概念>#</a></h2><p><strong>端口就是对进程标识符进行“统一度量衡”操作。</strong><br>要解决的问题：<br>为了实现运输层复用和分用的功能功能，我们必须对应用层的每个应用进程赋予一个非常明确的标志。<br>遇到的困难：</p><ol><li>我们知道，在单个计算机中的进程是用进程标识符（一个不大的整数）来标志的。但是在互联网环境下，计算机的操作系统不同，不同的操作系统又使用不同格式的进程标识符。</li><li>把特定机器上运行的特定进程指明为通信的最后终点是不可行的。因为进程的创建和撤销都是动态的。</li></ol><p>解决问题的方法：<br>运输层使用协议端口号(Protocol port number)，或简称<strong>端口</strong>(port)。虽然通信的终点是应用进程，但只要把所传送的报文交到目的主机的某个合适端口，剩下的工作就由TCP或UDP来完成。此处的端口指软件端口。TCP/IP的运输层用一个16位端口号来标志一个端口。<strong>端口号只具有本地意义</strong>，它只是为了标志本计算机应用层中的各个进程在和运输层交互时的<strong>层间接口</strong>。</p><blockquote><p>硬件端口：不同硬件设备进行交互的接口。
软件端口：应用层的各种协议进程与运输实体进行层间交互的一种地址。</p></blockquote><p>运输层端口号的分类:</p><ol><li><p>服务器端使用的端口号</p><ol><li>熟知端口号(well-known port number)或系统端口号，数值为0~1023。这些端口号指派给了TCP/IP最重要的一些应用程序。如下图。</li><li>登记端口号。数值为1024~49151。使用这类端口号必须在IANA登记，以防止重复。</li></ol></li><li><p>客户端使用的端口号</p><p>数值为49152~65535。这类端口号仅在客户进程运行时才动态选择，因此又叫做短暂端口号。</p></li></ol><p>​</p><table><thead><tr><th style=text-align:center>应用程序</th><th style=text-align:center>FTP</th><th style=text-align:center>TELNET</th><th style=text-align:center>SMTP</th><th style=text-align:center>DNS</th><th style=text-align:center>TFTP</th><th style=text-align:center>HTTP</th><th style=text-align:center>SNMP</th><th style=text-align:center>SNMP(trap)</th><th style=text-align:center>HTTPS</th></tr></thead><tbody><tr><td style=text-align:center>熟知端口号</td><td style=text-align:center>21</td><td style=text-align:center>23</td><td style=text-align:center>25</td><td style=text-align:center>53</td><td style=text-align:center>69</td><td style=text-align:center>80</td><td style=text-align:center>161</td><td style=text-align:center>162</td><td style=text-align:center>443</td></tr></tbody></table><p>参考文献：《计算机网络（第7版）》谢希仁著。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://yyf.zone/tags/%E7%AC%94%E8%AE%B0/>笔记</a></li></ul><nav class=paginav><a class=prev href=https://yyf.zone/notes/2021-1-8-udp/><span class=title>«</span><br><span>用户数据报协议UDP</span></a>
<a class=next href=https://yyf.zone/notes/2021-1-6-mpls/><span class=title>»</span><br><span>多协议标签交换MPLS</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://yyf.zone/>Play With YYF</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>