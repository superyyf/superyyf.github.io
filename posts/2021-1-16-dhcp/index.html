<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>动态主机配置协议DHCP | Play With YYF</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content="计算机网络/应用层/动态主机配置协议DHCP">
<meta name=generator content="Hugo 0.92.2">
<meta name=robots content="noindex, nofollow">
<link rel=stylesheet href=/ananke/css/main.min.css>
<meta property="og:title" content="动态主机配置协议DHCP">
<meta property="og:description" content="计算机网络/应用层/动态主机配置协议DHCP">
<meta property="og:type" content="article">
<meta property="og:url" content="http://yyf.zone/posts/2021-1-16-dhcp/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-01-16T19:59:13+00:00">
<meta property="article:modified_time" content="2021-01-16T19:59:13+00:00">
<meta itemprop=name content="动态主机配置协议DHCP">
<meta itemprop=description content="计算机网络/应用层/动态主机配置协议DHCP"><meta itemprop=datePublished content="2021-01-16T19:59:13+00:00">
<meta itemprop=dateModified content="2021-01-16T19:59:13+00:00">
<meta itemprop=wordCount content="21">
<meta itemprop=keywords content="笔记,"><meta name=twitter:card content="summary">
<meta name=twitter:title content="动态主机配置协议DHCP">
<meta name=twitter:description content="计算机网络/应用层/动态主机配置协议DHCP">
</head>
<body class="ma0 avenir bg-near-white">
<header>
<div class=bg-black>
<nav class="pv3 ph3 ph4-ns" role=navigation>
<div class="flex-l justify-between items-center center">
<a href=/ class="f3 fw2 hover-white no-underline white-90 dib">
Play With YYF
</a>
<div class="flex-l items-center">
<div class=ananke-socials>
</div>
</div>
</div>
</nav>
</div>
</header>
<main class=pb7 role=main>
<article class="flex-l flex-wrap justify-between mw8 center ph3">
<header class="mt4 w-100">
<aside class="instapaper_ignoref b helvetica tracked">
POSTS
</aside>
<div id=sharing class="mt3 ananke-socials">
</div>
<h1 class="f1 athelas mt3 mb1">动态主机配置协议DHCP</h1>
<time class="f6 mv4 dib tracked" datetime=2021-01-16T19:59:13Z>January 16, 2021</time>
</header>
<div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>计算机网络/应用层/动态主机配置协议DHCP</p>
<p>  在协议软件中的参数赋值的动作叫做<strong>协议配置</strong>。具体的配置信息有哪些取决于协议栈。例如，连接到互联网的计算机的协议软件配置的项目包括：</p>
<ol>
<li>IP地址；</li>
<li>子网掩码；</li>
<li>默认路由器的IP地址；</li>
<li>域名服务器的IP地址。</li>
</ol>
<p>  用人工进行协议配置很不方便，而且容易出错。因此，应当采用自动协议配置的方法。互联网现在广泛使用的而是<strong>动态主机配置协议DHCP</strong>(Dynamic Host Configuration)，它提供了一种机制，称为<strong>即插即用网</strong>(plug-and-play network)。这种机制允许一台计算机加入新的网络和获取IP地址而不用手工参与。<br>
DHCP对运行客户软件和服务器软件的计算机都适用。DHCP适用客户服务器方式。</p>
<ol>
<li>需要IP地址的主机在启动时就向DHCP服务器<strong>广播</strong>发送<strong>发现报文</strong>(DHCPDISCOVER)（将目的IP地址置为全1，即255.255.255.255），这时该主机称为DHCP客户。</li>
<li>在本地网络上的所有主机都能收到这个广播报文，但只有DHCP服务器才对此广播报文进行回答。</li>
<li>DHCP服务器先在其数据库中查找该计算机的配置信息。若找到，则返回找到的信息。若找不到，则从服务器的<strong>IP地址池</strong>(address pool)中取一个地址分配给该计算机。DHCP服务器的回答报文叫做<strong>提供报文</strong>(DHCPOFFER)。</li>
</ol>
<p><strong>DHCP中继代理</strong>(relay agent)：<br>
  为了避免DHCP服务器的数量太多。因此现在是每一个网络至少有一个DHCP中继代理（通常是一台路由器），它配置了DHCP服务器的IP地址信息。当DHCP中继代理收到主机A以<strong>广播</strong>形式发送的发现报文后，以<strong>单播</strong>方式向DHCP服务器转发此报文，并等待其回答。收到DHCP服务器回答的提供报文后，DHCP中继代理再把此提供报文发回给主机A。DHCP报文只是UDP用户数据报的数据。<br>
  DHCP服务器分配给DHCP客户的IP地址是临时的，因此DHCP客户只能在一段有限的时间内使用这个分配到的IP地址。DHCP协议称这段时间为<strong>租用期</strong>(lease period)。DHCP客户使用的UDP端口是68，而DHCP服务器使用的UDP端口是67。DHCP很适合于经常移动位置的计算机。</p>
<p>参考文献：《计算机网络（第7版）》谢希仁著。</p><ul class=pa0>
<li class="list di">
<a href=/tags/%E7%AC%94%E8%AE%B0 class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">笔记</a>
</li>
</ul>
<div class="mt6 instapaper_ignoref">
</div>
</div>
<aside class="w-30-l mt6-l">
<div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
<p class="f5 b mb3">Related</p>
<ul class="pa0 list">
<li class=mb2>
<a href=/posts/2021-1-16-email/>电子邮件</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-15-www/>万维网WWW</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-14-ftp/>文件传送协议FTP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-13-dns/>域名系统DNS</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-12-connectionmanagement/>TCP的运输连接管理</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-11-congestioncontrol/>TCP的拥塞控制</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-10-flowcontrol/>TCP的流量控制</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-10-reliabletransmission/>TCP可靠传输的实现</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-9-headoftcp/>TCP报文段的首部格式</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-8-overviewoftcp/>传输控制协议TCP概述</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-8-udp/>用户数据报协议UDP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-7-overviewoftransportlayer/>运输层协议概述</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-6-mpls/>多协议标签交换MPLS</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-2-ipv6/>IPv6</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-2-ipmulticast/>IP多播</a>
</li>
</ul>
</div>
</aside>
</article>
</main>
<footer class="bg-black bottom-0 w-100 pa3" role=contentinfo>
<div class="flex justify-between">
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=http://yyf.zone/>
&copy; Play With YYF 2022
</a>
<div>
<div class=ananke-socials>
</div></div>
</div>
</footer>
</body>
</html>