<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>域名系统DNS | Play With YYF</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content="计算机网络/应用层/域名系统DNS">
<meta name=generator content="Hugo 0.92.2">
<meta name=robots content="noindex, nofollow">
<link rel=stylesheet href=/ananke/css/main.min.css>
<meta property="og:title" content="域名系统DNS">
<meta property="og:description" content="计算机网络/应用层/域名系统DNS">
<meta property="og:type" content="article">
<meta property="og:url" content="http://yyf.zone/posts/2021-1-13-dns/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-01-13T17:19:37+00:00">
<meta property="article:modified_time" content="2021-01-13T17:19:37+00:00">
<meta itemprop=name content="域名系统DNS">
<meta itemprop=description content="计算机网络/应用层/域名系统DNS"><meta itemprop=datePublished content="2021-01-13T17:19:37+00:00">
<meta itemprop=dateModified content="2021-01-13T17:19:37+00:00">
<meta itemprop=wordCount content="36">
<meta itemprop=keywords content="笔记,"><meta name=twitter:card content="summary">
<meta name=twitter:title content="域名系统DNS">
<meta name=twitter:description content="计算机网络/应用层/域名系统DNS">
</head>
<body class="ma0 avenir bg-near-white">
<header>
<div class=bg-black>
<nav class="pv3 ph3 ph4-ns" role=navigation>
<div class="flex-l justify-between items-center center">
<a href=/ class="f3 fw2 hover-white no-underline white-90 dib">
Play With YYF
</a>
<div class="flex-l items-center">
<div class=ananke-socials>
</div>
</div>
</div>
</nav>
</div>
</header>
<main class=pb7 role=main>
<article class="flex-l flex-wrap justify-between mw8 center ph3">
<header class="mt4 w-100">
<aside class="instapaper_ignoref b helvetica tracked">
POSTS
</aside>
<div id=sharing class="mt3 ananke-socials">
</div>
<h1 class="f1 athelas mt3 mb1">域名系统DNS</h1>
<time class="f6 mv4 dib tracked" datetime=2021-01-13T17:19:37Z>January 13, 2021</time>
</header>
<div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>计算机网络/应用层/域名系统DNS</p>
<h1 id=应用层概述>应用层概述</h1>
<p>  应用层协议<strong>为不同的网络应用的应用进程之间的通信提供规则</strong>。每个应用层协议都是为了解决某一类的应用问题，而问题的解决又要通过位于不同主机的多个应用进程之间的通信和协同工作来完成。应用层的具体内容就是精确定义这些通信规则。</p>
<h1 id=域名系统概述>域名系统概述</h1>
<p>  域名系统DNS(Domain Name System)是互联网使用的命名系统，用来把便于人们使用的<strong>机器名称转换为IP地址</strong>。<br>
  互联网的域名系统DNS被设计成为一个<strong>联机分布式数据库系统</strong>，并采用客户服务器方式。<br>
  当某一个应用进程需要把主机名解析为IP地址时，该应用进程就调用解析程序(resolver)，并称为DNS的一个客户，把待解析的域名放在DNS请求报文中，以UDP用户数据报的方式发给本地域名服务器。本地域名服务器在查找域名后，把对应的IP地址放在回答报文中返回。应用进程获得目的主机的IP地址后即可进行通信。<br>
  若本地域名服务器不能回答该请求，则此域名服务器就暂时称为DNS的另一个客户，并向其他域名服务器发出查询请求。这种过程直至找到能够回答该请求的域名服务器为止。</p>
<h1 id=互联网的域名结构>互联网的域名结构</h1>
<p>  互联网采用<strong>层次树状结构</strong>的命名方法。<br>
  每一个域名都由标号(label)序列组成，而各标号之间用点隔开。DNS规定，域名中的标号都由英文字母和数字组成，每一个标号不超过63个字符（但为了记忆方便，最好不要超过12个字符），不区分大小写。标号中除连字符(-)外不能使用其他的标点符号。级别最低的域名写在最左边，级别最高的域名写在最右边。由多个标号组成的完整域名总共不超过255个字符。</p>
<p><img src=/image/%E5%9F%9F%E5%90%8D%E7%A9%BA%E9%97%B4.png alt=域名空间></p>
<p><strong>顶级域名</strong>：</p>
<ol>
<li>国家顶级域名nTLD：如cn（中国），us（美国）等等。</li>
<li>通用顶级域名gTLD：如com（公司企业），org（非营利组织），net（网络服务机构）等等。</li>
<li>基础服务结构域名：只有一个，即arpa，用于反向域名解析。</li>
</ol>
<p><strong>二级域名</strong>，我国把二级域名划分为两类：</p>
<ol>
<li>类别域名：如ac（科研机构），com（企业），edu（教育机构）等等。</li>
<li>行政区域名：如bj（北京市），js（江苏省）等等。</li>
</ol>
<h1 id=域名服务器>域名服务器</h1>
<p>  上面讲述的域名体系是抽象的。但具体实现域名系统则是使用分布在各地的域名服务器。理论上，可以让每一级的域名都有一个相对应的域名服务器，但这样会使服务器数量太多，运行效率降低。因此DNS就采用划分区的办法来解决这个问题。<br>
  一个服务器所负责管辖的（或有权限的）范围叫做<strong>区</strong>(zone)。每一个区设置响应的<strong>权限域名服务器</strong>，用来保存该区中所有主机的域名到IP地址的映射。<strong>区是“域”的子集</strong>。</p>
<p><img src=/image/%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8.png alt=域名服务器></p>
<ol>
<li><strong>根域名服务器</strong>(root name server)：根域名服务器是最高层次的域名服务器，也是最重要的域名服务器。所有的根服务器都知道所有的顶级域名服务器的域名和IP地址。不管是哪一个本地域名服务器，只要自己无法解析，就首先求助于根域名服务器。全球共有13组根服务器，分布在588个地点(IPv4)。代号A~M。采用任播技术。在许多情况下，根域名服务器并不直接把待查询的域名直接转换成IP地址，而是告诉本地域名服务器下一步应当找哪一个顶级域名服务器进行查询。</li>
<li><strong>顶级域名服务器</strong>（TLD服务器）：负责管理在该顶级域名服务器注册的所有二级域名。当收到DNS查询请求时，可能给出最后的结果，也可能是下一步应当找的域名服务器的IP地址。</li>
<li><strong>权限域名服务器</strong>：负责一个区的域名服务器。当一个权限域名服务器不能给出最后的查询回答时，就告诉DNS客户，下一步应当找哪一个权限域名服务器。</li>
<li><strong>本地域名服务器</strong>(local name server)：当一台主机发出DNS查询请求时，这个查询请求就发送给本地域名服务器。非常的重要。</li>
</ol>
<p><strong>域名解析过程</strong>：</p>
<ol>
<li>本机向本地域名服务器的查询一般都是采用<strong>递归查询</strong>。即“<strong>你帮我查</strong>”。</li>
<li>本地服务器向根服务器的查询一般是采用<strong>迭代查询</strong>。即“<strong>你告诉我怎么查</strong>”。</li>
</ol>
<p><img src=/image/DNS%E6%9F%A5%E8%AF%A2.png alt=DNS查询></p>
<p>  为了提高DNS的查询效率，在域名服务器中广泛使用了<strong>高速缓存</strong>。高速缓存用来存放最近查询过的域名已经从何处获得域名映射信息的记录。</p>
<p>参考文献：《计算机网络（第7版）》谢希仁著。</p><ul class=pa0>
<li class="list di">
<a href=/tags/%E7%AC%94%E8%AE%B0 class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">笔记</a>
</li>
</ul>
<div class="mt6 instapaper_ignoref">
</div>
</div>
<aside class="w-30-l mt6-l">
<div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
<p class="f5 b mb3">Related</p>
<ul class="pa0 list">
<li class=mb2>
<a href=/posts/2021-1-12-connectionmanagement/>TCP的运输连接管理</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-11-congestioncontrol/>TCP的拥塞控制</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-10-flowcontrol/>TCP的流量控制</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-10-reliabletransmission/>TCP可靠传输的实现</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-9-headoftcp/>TCP报文段的首部格式</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-8-overviewoftcp/>传输控制协议TCP概述</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-8-udp/>用户数据报协议UDP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-7-overviewoftransportlayer/>运输层协议概述</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-6-mpls/>多协议标签交换MPLS</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-2-ipv6/>IPv6</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-2-ipmulticast/>IP多播</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-5-vpnandnat/>虚拟专用网络VPN和网络地址转换NAT</a>
</li>
</ul>
</div>
</aside>
</article>
</main>
<footer class="bg-black bottom-0 w-100 pa3" role=contentinfo>
<div class="flex justify-between">
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=http://yyf.zone/>
&copy; Play With YYF 2022
</a>
<div>
<div class=ananke-socials>
</div></div>
</div>
</footer>
</body>
</html>