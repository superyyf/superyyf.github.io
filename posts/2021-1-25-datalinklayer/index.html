<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>使用点对点信道的数据链路层 | Play With YYF</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content="计算机网络/数据链路层/使用点对点信道的数据链路层">
<meta name=generator content="Hugo 0.92.2">
<meta name=robots content="noindex, nofollow">
<link rel=stylesheet href=/ananke/css/main.min.css>
<meta property="og:title" content="使用点对点信道的数据链路层">
<meta property="og:description" content="计算机网络/数据链路层/使用点对点信道的数据链路层">
<meta property="og:type" content="article">
<meta property="og:url" content="http://yyf.zone/posts/2021-1-25-datalinklayer/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-01-25T16:23:58+00:00">
<meta property="article:modified_time" content="2021-01-25T16:23:58+00:00">
<meta itemprop=name content="使用点对点信道的数据链路层">
<meta itemprop=description content="计算机网络/数据链路层/使用点对点信道的数据链路层"><meta itemprop=datePublished content="2021-01-25T16:23:58+00:00">
<meta itemprop=dateModified content="2021-01-25T16:23:58+00:00">
<meta itemprop=wordCount content="39">
<meta itemprop=keywords content="笔记,"><meta name=twitter:card content="summary">
<meta name=twitter:title content="使用点对点信道的数据链路层">
<meta name=twitter:description content="计算机网络/数据链路层/使用点对点信道的数据链路层">
</head>
<body class="ma0 avenir bg-near-white">
<header>
<div class=bg-black>
<nav class="pv3 ph3 ph4-ns" role=navigation>
<div class="flex-l justify-between items-center center">
<a href=/ class="f3 fw2 hover-white no-underline white-90 dib">
Play With YYF
</a>
<div class="flex-l items-center">
<div class=ananke-socials>
</div>
</div>
</div>
</nav>
</div>
</header>
<main class=pb7 role=main>
<article class="flex-l flex-wrap justify-between mw8 center ph3">
<header class="mt4 w-100">
<aside class="instapaper_ignoref b helvetica tracked">
POSTS
</aside>
<div id=sharing class="mt3 ananke-socials">
</div>
<h1 class="f1 athelas mt3 mb1">使用点对点信道的数据链路层</h1>
<time class="f6 mv4 dib tracked" datetime=2021-01-25T16:23:58Z>January 25, 2021</time>
</header>
<div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>计算机网络/数据链路层/使用点对点信道的数据链路层</p>
<h1 id=数据链路和帧>数据链路和帧</h1>
<p>  <strong>数据链路</strong>是物理链路加上必要的通信协议。<br>
  <strong>帧</strong>是点对点信道的数据链路层的协议数据单元。<br>
  数据链路层把网络层交下来的数据构成帧发送到链路上，以及把接收到的帧中的数据取出并上交给网络层。</p>
<h1 id=三个基本问题>三个基本问题</h1>
<p>  三个基本问题是：<strong>封装成帧</strong>、<strong>透明传输</strong>和<strong>差错检测</strong>。</p>
<h2 id=封装成帧>封装成帧</h2>
<p>  封装成帧就是在一段数据的前后分别添加首部和尾部，这样就构成了一个帧。首部和尾部的一个重要作用就是<strong>帧定界</strong>（即确定帧的界限）。此外，首部和尾部还包括许多必要的控制信息。每一种链路层协议都规定了所能传送的帧的数据部分长度上限&ndash;<strong>最大传送单元MTU</strong>(Maximum Tranfer Unit)。<br>
  帧定界可以使用特殊的<strong>帧定界符</strong>。控制字符<strong>SOH</strong>(Start Of Header)放在一帧的最前面，表示帧的首部开始。另一个控制字符<strong>EOT</strong>(End Of Transmission)表示帧的结束。</p>
<h2 id=透明传输>透明传输</h2>
<p>  不管从键盘上输入什么字符都可以放在这样的帧中传输过去，因此这样的传输就是<strong>透明传输</strong>。为了解决透明传输问题，就必须设法使数据中可能出现的控制字符“SOH”和“EOT”在接收端不被解释为控制字符。<br>
  具体的方法是：发送端的数据链路层在数据中出现控制字符前面插入一个<strong>转义字符</strong>“ESC”。而在接收端的数据链路层在把数据送往网络层之前删除这个插入的转义字符。这种方法称为<strong>字节填充</strong>(byte stuffing)或<strong>字符填充</strong>(character stuffing)。如果转义字符也出现在数据当中，那么解决方法仍然是在转义字符的前面插入一个转义字符。</p>
<h2 id=差错检测>差错检测</h2>
<h3 id=比特错误>比特错误</h3>
<p>  为了保证数据传输的可靠性，在计算机网络传输数据时，必须采用各种差错检测措施。目前在数据链路层广泛使用了<strong>循环冗余检验CRC</strong>(Cyclic Redundancy Check)的检错技术。<br>
循环冗余检验的原理</p>
<ol>
<li>对于k个比特的数据M，CRC运算就是在数据M的后面添加供差错检测用的n位<strong>冗余码</strong>，然后构成帧发送出去。</li>
<li>n位的冗余码可用以下方法得出。用二进制的<strong>模2运算</strong>进行$2^{n} \times M$的运算，这相当于在M后面添加n个0。得到的$(k+n)$位的数除以收发双方事先商定的长度为$(n+1)$位的除数P，得出商是Q而余数是R（n位）。这个余数R就作为冗余码拼接在数据M的后面发送出去。这种为了进行检错而添加的冗余码常称为<strong>帧检验序列FCS</strong>(Frame Check Sequence)。</li>
<li>在接收端把接收到的数据以帧为单位进行CRC检验：把收到的每一个帧都除以同样的除数P（模2运算），然后检查得到的余数R。</li>
</ol>
<p>$$R=0$$，无差错，接受(accept)。<br>
$$R\neq0$$，有差错，丢弃</p>
<h3 id=帧丢失帧重复帧失序>帧丢失、帧重复、帧失序</h3>
<p>  在CRC检错的基础上，增加了<strong>帧编号</strong>、<strong>确认</strong>和<strong>重传机制</strong>。</p>
<p>参考文献：《计算机网络（第7版）》谢希仁著。</p><ul class=pa0>
<li class="list di">
<a href=/tags/%E7%AC%94%E8%AE%B0 class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">笔记</a>
</li>
</ul>
<div class="mt6 instapaper_ignoref">
</div>
</div>
<aside class="w-30-l mt6-l">
<div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
<p class="f5 b mb3">Related</p>
<ul class="pa0 list">
<li class=mb2>
<a href=/posts/2021-1-25-ppp/>点对点协议PPP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-22-ftp/>文件传送协议FTP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-22-telnet/>远程终端协议TELNET</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-22-ip/>网际协议IP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-21-cidr/>划分子网和构造超网</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-21-icmp/>网际控制报文协议ICMP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-19-route/>互联网的路由选择协议</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-19-p2p/>P2P应用</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-18-socket/>应用进程跨越网络的通信</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-18-snmp/>简单网络管理协议SNMP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-16-dhcp/>动态主机配置协议DHCP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-16-email/>电子邮件</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-15-www/>万维网WWW</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-14-ftp/>文件传送协议FTP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-13-dns/>域名系统DNS</a>
</li>
</ul>
</div>
</aside>
</article>
</main>
<footer class="bg-black bottom-0 w-100 pa3" role=contentinfo>
<div class="flex justify-between">
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=http://yyf.zone/>
&copy; Play With YYF 2022
</a>
<div>
<div class=ananke-socials>
</div></div>
</div>
</footer>
</body>
</html>