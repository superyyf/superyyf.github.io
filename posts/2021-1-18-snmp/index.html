<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>简单网络管理协议SNMP | Play With YYF</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content="计算机网络/应用层/简单网络管理协议SNMP">
<meta name=generator content="Hugo 0.92.2">
<meta name=robots content="noindex, nofollow">
<link rel=stylesheet href=/ananke/css/main.min.css>
<meta property="og:title" content="简单网络管理协议SNMP">
<meta property="og:description" content="计算机网络/应用层/简单网络管理协议SNMP">
<meta property="og:type" content="article">
<meta property="og:url" content="http://yyf.zone/posts/2021-1-18-snmp/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-01-18T16:39:52+00:00">
<meta property="article:modified_time" content="2021-01-18T16:39:52+00:00">
<meta itemprop=name content="简单网络管理协议SNMP">
<meta itemprop=description content="计算机网络/应用层/简单网络管理协议SNMP"><meta itemprop=datePublished content="2021-01-18T16:39:52+00:00">
<meta itemprop=dateModified content="2021-01-18T16:39:52+00:00">
<meta itemprop=wordCount content="54">
<meta itemprop=keywords content="笔记,"><meta name=twitter:card content="summary">
<meta name=twitter:title content="简单网络管理协议SNMP">
<meta name=twitter:description content="计算机网络/应用层/简单网络管理协议SNMP">
</head>
<body class="ma0 avenir bg-near-white">
<header>
<div class=bg-black>
<nav class="pv3 ph3 ph4-ns" role=navigation>
<div class="flex-l justify-between items-center center">
<a href=/ class="f3 fw2 hover-white no-underline white-90 dib">
Play With YYF
</a>
<div class="flex-l items-center">
<div class=ananke-socials>
</div>
</div>
</div>
</nav>
</div>
</header>
<main class=pb7 role=main>
<article class="flex-l flex-wrap justify-between mw8 center ph3">
<header class="mt4 w-100">
<aside class="instapaper_ignoref b helvetica tracked">
POSTS
</aside>
<div id=sharing class="mt3 ananke-socials">
</div>
<h1 class="f1 athelas mt3 mb1">简单网络管理协议SNMP</h1>
<time class="f6 mv4 dib tracked" datetime=2021-01-18T16:39:52Z>January 18, 2021</time>
</header>
<div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>计算机网络/应用层/简单网络管理协议SNMP</p>
<h1 id=网络管理的基本概念>网络管理的基本概念</h1>
<p>  网络管理包括对硬件、软件和人力的使用、综合与协调，以便对网络资源进行监视、测试、配置、分析、评价和控制，这样就能以合理的价格满足网络的一些需求，如实时运行性能、服务质量等。</p>
<p><img src=/image/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86.png alt=网络管理></p>
<p>网络管理模型中的主要构件</p>
<ol>
<li>管理站。<br>
<strong>管理站</strong>又称为管理器，是整个网络管理系统的核心，它通常是个有着良好图形界面高性能的工作站，并由网络管理员直接操作和控制。管理站的所在部门也常称为<strong>网络运行中心NOC</strong>(Network Operations Center)。管理站中的关键构件是<strong>管理程序</strong>。管理程序在运行时就成为<strong>管理进程</strong>。管理站（硬件）或管理程序（软件）都可称为管理者(Manager)或管理器。</li>
<li>被管设备。<br>
在被管网络中有很多的<strong>被管设备</strong>（包括设备中的软件）。被管设备可以是主机、路由器、打印机、集线器、网桥或调制解调器等。在每一个被管设备中可能有许多<strong>被管对象</strong>(Managed Object)。被管设备有时可称为网络元素或简称为网元。</li>
<li>网络管理协议。<br>
<strong>简单网络管理协议SNMP</strong>(Simple Network Management Protocol)中的管理程序和代理程序按客户服务器方式工作。管理程序运行SNMP客户程序，而代理程序运行SNMP服务器程序。</li>
</ol>
<p>网络管理的基本原则</p>
<ol>
<li>若要管理某个对象，就必然会给该对象添加一些软件或硬件，但这种“添加”对原有对象的影响必须尽量小些。</li>
<li>SNMP最重要的指导思想就是要<strong>尽可能简单</strong>。SNMP的基本功能包括监视网络性能、检测分析网络差错和配置网络设备等。</li>
</ol>
<p>SNMP的网络管理由三个部分组成</p>
<ol>
<li><strong>SNMP本身</strong>。SNMP定义了管理站和代理之间所交换的分组格式。</li>
<li><strong>管理信息结构SMI</strong>(Structure of Management Information)。SMI定义了命名对象和定义 对象类型（包括范围和长度）的通用规则，以及把对象和对象的值进行编码的规则。</li>
<li><strong>管理信息库MIB</strong>(Management Information Base)。MIB在被管理的实体中创建了命名对象，并规定了其类型。</li>
</ol>
<p><strong>总之，SMI建立规则，MIB对变量进行说明，而SNMP完成网管的动作</strong>。</p>
<h1 id=管理信息结构smi>管理信息结构SMI</h1>
<p>SMI的功能应当有三个：被管对象应怎样命令；用来存储被管对象的数据类型有哪些；在网络上传送的管理数据应如何编码。</p>
<ol>
<li>被管对象的命名<br>
SMI规定，所有被管对象都必须处在<strong>对象命名树</strong>(object naming tree)上。</li>
<li>被管对象的数据类型<br>
SMI使用基本的抽象语法记法1（即ISO制定的<strong>ASN.1</strong>）来定义数据类型，但又增加了一些新的定义。SMI把数据类型分为两大类：简单类型和结构化类型。</li>
<li>编码方法<br>
SMI使用ASN.1制定的<strong>基本编码规则BER</strong>(Basic Encoding Rule)进行数据的编码。BER指明了每种数据的类型和值。ASN.1把所有的数据元素都表示为T-L-V三个字段组成的序列。T字段(Tag)定义的数据的类型，L字段(Length)定义V字段的长度，而V字段(Value)定义数据的值。</li>
</ol>
<h1 id=管理信息库mib>管理信息库MIB</h1>
<p>  所谓“管理信息”就是指在互联网的网管框架中被管对象的集合。被管对象必须维持可供管理程序读写的若干控制和状态信息。这些被管对象构成了一个虚构的信息存储器，所以才称为管理信息库MIB。管理程序就使用MIB中这些信息的值对网络进行管理（如读取或重新设置管理这些值）。只有在MIB中的对象才是SNMP所能够管理的。</p>
<h1 id=snmp的协议数据单位和报文>SNMP的协议数据单位和报文</h1>
<p>实际上，SNMP的操作只有两种基本的管理功能，即：</p>
<ol>
<li>“读”操作，用Get报文来检测各被管对象的状况；</li>
<li>“写”操作，用Set报文来改变各被管对象的状况。</li>
</ol>
<p>  SNMP的这些功能通过<strong>探询</strong>操作来实现，即SNMP管理进程定时向被管理设备周期性地发送探询信息。探寻的好处是：第一，可使系统相对简单；第二，能限制通过网络所产生的管理信息的通信量。<br>
  当SNMP不是完全的探询协议，它允许不经过询问就能发送某些信息。这种信息称为<strong>陷阱</strong>(trap)，表示他能够捕捉“事件”。但这种陷阱信息的参数是受限制的。<br>
  当被管对象的代理检测到有事件发生时，就检查其门限值。代理只向管理进程报告达到某些门限值的事件（这就叫做过滤）。这种方法的好处是：第一，仅在严重事件发生时才发送陷阱；第二，陷阱信息很简单且所需要的字节数很少。<br>
  总之，使用探询（至少是周期性地）以维持对网络资源的实时监视，同时也采用陷阱机制报告特殊事件，使用SNMP成为一种有效的网络管理协议。<br>
  SNMP使用无连接的<strong>UDP</strong>，因此在网络上传送SNMP报文的开销较小。</p>
<p><img src=/image/%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F.png alt=报文格式></p>
<p>参考文献：《计算机网络（第7版）》谢希仁著。</p><ul class=pa0>
<li class="list di">
<a href=/tags/%E7%AC%94%E8%AE%B0 class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">笔记</a>
</li>
</ul>
<div class="mt6 instapaper_ignoref">
</div>
</div>
<aside class="w-30-l mt6-l">
<div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
<p class="f5 b mb3">Related</p>
<ul class="pa0 list">
<li class=mb2>
<a href=/posts/2021-1-16-dhcp/>动态主机配置协议DHCP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-16-email/>电子邮件</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-15-www/>万维网WWW</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-14-ftp/>文件传送协议FTP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-13-dns/>域名系统DNS</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-12-connectionmanagement/>TCP的运输连接管理</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-11-congestioncontrol/>TCP的拥塞控制</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-10-flowcontrol/>TCP的流量控制</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-10-reliabletransmission/>TCP可靠传输的实现</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-9-headoftcp/>TCP报文段的首部格式</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-8-overviewoftcp/>传输控制协议TCP概述</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-8-udp/>用户数据报协议UDP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-7-overviewoftransportlayer/>运输层协议概述</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-6-mpls/>多协议标签交换MPLS</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-2-ipv6/>IPv6</a>
</li>
</ul>
</div>
</aside>
</article>
</main>
<footer class="bg-black bottom-0 w-100 pa3" role=contentinfo>
<div class="flex justify-between">
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=http://yyf.zone/>
&copy; Play With YYF 2022
</a>
<div>
<div class=ananke-socials>
</div></div>
</div>
</footer>
</body>
</html>