<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>运输层协议概述 | Play With YYF</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content="运输层/运输层概述">
<meta name=generator content="Hugo 0.92.2">
<meta name=robots content="noindex, nofollow">
<link rel=stylesheet href=/ananke/css/main.min.css>
<meta property="og:title" content="运输层协议概述">
<meta property="og:description" content="运输层/运输层概述">
<meta property="og:type" content="article">
<meta property="og:url" content="http://yyf.zone/posts/2021-1-7-overviewoftransportlayer/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-01-07T15:11:59+00:00">
<meta property="article:modified_time" content="2021-01-07T15:11:59+00:00">
<meta itemprop=name content="运输层协议概述">
<meta itemprop=description content="运输层/运输层概述"><meta itemprop=datePublished content="2021-01-07T15:11:59+00:00">
<meta itemprop=dateModified content="2021-01-07T15:11:59+00:00">
<meta itemprop=wordCount content="69">
<meta itemprop=keywords content="笔记,"><meta name=twitter:card content="summary">
<meta name=twitter:title content="运输层协议概述">
<meta name=twitter:description content="运输层/运输层概述">
</head>
<body class="ma0 avenir bg-near-white">
<header>
<div class=bg-black>
<nav class="pv3 ph3 ph4-ns" role=navigation>
<div class="flex-l justify-between items-center center">
<a href=/ class="f3 fw2 hover-white no-underline white-90 dib">
Play With YYF
</a>
<div class="flex-l items-center">
<div class=ananke-socials>
</div>
</div>
</div>
</nav>
</div>
</header>
<main class=pb7 role=main>
<article class="flex-l flex-wrap justify-between mw8 center ph3">
<header class="mt4 w-100">
<aside class="instapaper_ignoref b helvetica tracked">
POSTS
</aside>
<div id=sharing class="mt3 ananke-socials">
</div>
<h1 class="f1 athelas mt3 mb1">运输层协议概述</h1>
<time class="f6 mv4 dib tracked" datetime=2021-01-07T15:11:59Z>January 7, 2021</time>
</header>
<div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>运输层/运输层概述</p>
<h1 id=运输层协议概述>运输层协议概述</h1>
<h2 id=运输层的主要任务>运输层的主要任务</h2>
<p>网络层为主机之间提供逻辑通信，而运输层<strong>为应用进程之间提供端到端的逻辑通信</strong>。</p>
<p><img src=/image/%E8%BF%90%E8%BE%93%E5%B1%82.png alt=运输层></p>
<p>如图，运输层的通信好像就是沿水平方向直接传送数据。但事实上这两个运输层之间并没有一条水平方向的物理连接。数据的传送是沿着图中的虚线方向（经过多个层次）传送的。逻辑通信的意思是“好像是这样通信，但事实上并非真的这样通信”。</p>
<hr>
<h2 id=运输层的功能>运输层的功能</h2>
<ol>
<li>运输层还要对收到的报文进行<strong>差错检测</strong>。在网络层中，IP数据报首部中的检验和字段，只检验首部是否出现差错。</li>
<li>运输层向高层用户<strong>屏蔽</strong>了下面网络核心的细节。</li>
<li><strong>复用</strong>和<strong>分用</strong>应用层所有的应用进程都可以通过运输层再传送到IP层（网络层），这就是复用。运输层从IP层收到发给各应用进程的数据后，必须分别交付指明的各应用进程，这就是分用。</li>
</ol>
<hr>
<h2 id=运输层的两个主要协议>运输层的两个主要协议</h2>
<table>
<thead>
<tr>
<th></th>
<th>用户数据报协议UDP(User Datagram Protocol)</th>
<th>传输控制协议TCP(Transmission Control Protocol)</th>
</tr>
</thead>
<tbody>
<tr>
<td>数据单元</td>
<td>UDP用户数据报</td>
<td>TCP报文段(segment)</td>
</tr>
<tr>
<td>传输方式</td>
<td>在传送数据之前不需要建立连接</td>
<td>提供面向连接的服务</td>
</tr>
<tr>
<td>可靠性</td>
<td>不可靠的</td>
<td>可靠的</td>
</tr>
</tbody>
</table>
<p>应用场景：</p>
<p><img src=/image/%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF.png alt=应用场景></p>
<hr>
<h2 id=运输层中端口的概念>运输层中端口的概念</h2>
<p><strong>端口就是对进程标识符进行“统一度量衡”操作。</strong><br>
要解决的问题：<br>
为了实现运输层复用和分用的功能功能，我们必须对应用层的每个应用进程赋予一个非常明确的标志。<br>
遇到的困难：</p>
<ol>
<li>我们知道，在单个计算机中的进程是用进程标识符（一个不大的整数）来标志的。但是在互联网环境下，计算机的操作系统不同，不同的操作系统又使用不同格式的进程标识符。</li>
<li>把特定机器上运行的特定进程指明为通信的最后终点是不可行的。因为进程的创建和撤销都是动态的。</li>
</ol>
<p>解决问题的方法：<br>
运输层使用协议端口号(Protocol port number)，或简称<strong>端口</strong>(port)。虽然通信的终点是应用进程，但只要把所传送的报文交到目的主机的某个合适端口，剩下的工作就由TCP或UDP来完成。此处的端口指软件端口。TCP/IP的运输层用一个16位端口号来标志一个端口。<strong>端口号只具有本地意义</strong>，它只是为了标志本计算机应用层中的各个进程在和运输层交互时的<strong>层间接口</strong>。</p>
<blockquote>
<p>硬件端口：不同硬件设备进行交互的接口。
软件端口：应用层的各种协议进程与运输实体进行层间交互的一种地址。</p>
</blockquote>
<p>运输层端口号的分类:</p>
<ol>
<li>
<p>服务器端使用的端口号</p>
<ol>
<li>熟知端口号(well-known port number)或系统端口号，数值为0~1023。这些端口号指派给了TCP/IP最重要的一些应用程序。如下图。</li>
<li>登记端口号。数值为1024~49151。使用这类端口号必须在IANA登记，以防止重复。</li>
</ol>
</li>
<li>
<p>客户端使用的端口号</p>
<p>数值为49152~65535。这类端口号仅在客户进程运行时才动态选择，因此又叫做短暂端口号。</p>
</li>
</ol>
<p>​</p>
<table>
<thead>
<tr>
<th style=text-align:center>应用程序</th>
<th style=text-align:center>FTP</th>
<th style=text-align:center>TELNET</th>
<th style=text-align:center>SMTP</th>
<th style=text-align:center>DNS</th>
<th style=text-align:center>TFTP</th>
<th style=text-align:center>HTTP</th>
<th style=text-align:center>SNMP</th>
<th style=text-align:center>SNMP(trap)</th>
<th style=text-align:center>HTTPS</th>
</tr>
</thead>
<tbody>
<tr>
<td style=text-align:center>熟知端口号</td>
<td style=text-align:center>21</td>
<td style=text-align:center>23</td>
<td style=text-align:center>25</td>
<td style=text-align:center>53</td>
<td style=text-align:center>69</td>
<td style=text-align:center>80</td>
<td style=text-align:center>161</td>
<td style=text-align:center>162</td>
<td style=text-align:center>443</td>
</tr>
</tbody>
</table>
<p>参考文献：《计算机网络（第7版）》谢希仁著。</p><ul class=pa0>
<li class="list di">
<a href=/tags/%E7%AC%94%E8%AE%B0 class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">笔记</a>
</li>
</ul>
<div class="mt6 instapaper_ignoref">
</div>
</div>
<aside class="w-30-l mt6-l">
<div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
<p class="f5 b mb3">Related</p>
<ul class="pa0 list">
<li class=mb2>
<a href=/posts/2021-1-6-mpls/>多协议标签交换MPLS</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-2-ipv6/>IPv6</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-2-ipmulticast/>IP多播</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-5-vpnandnat/>虚拟专用网络VPN和网络地址转换NAT</a>
</li>
</ul>
</div>
</aside>
</article>
</main>
<footer class="bg-black bottom-0 w-100 pa3" role=contentinfo>
<div class="flex justify-between">
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=http://yyf.zone/>
&copy; Play With YYF 2022
</a>
<div>
<div class=ananke-socials>
</div></div>
</div>
</footer>
</body>
</html>