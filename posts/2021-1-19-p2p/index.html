<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>P2P应用 | Play With YYF</title>
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content="计算机网络/应用层/P2P应用">
<meta name=generator content="Hugo 0.92.2">
<meta name=robots content="noindex, nofollow">
<link rel=stylesheet href=/ananke/css/main.min.css>
<meta property="og:title" content="P2P应用">
<meta property="og:description" content="计算机网络/应用层/P2P应用">
<meta property="og:type" content="article">
<meta property="og:url" content="http://yyf.zone/posts/2021-1-19-p2p/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-01-19T15:42:44+00:00">
<meta property="article:modified_time" content="2021-01-19T15:42:44+00:00">
<meta itemprop=name content="P2P应用">
<meta itemprop=description content="计算机网络/应用层/P2P应用"><meta itemprop=datePublished content="2021-01-19T15:42:44+00:00">
<meta itemprop=dateModified content="2021-01-19T15:42:44+00:00">
<meta itemprop=wordCount content="15">
<meta itemprop=keywords content="笔记,"><meta name=twitter:card content="summary">
<meta name=twitter:title content="P2P应用">
<meta name=twitter:description content="计算机网络/应用层/P2P应用">
</head>
<body class="ma0 avenir bg-near-white">
<header>
<div class=bg-black>
<nav class="pv3 ph3 ph4-ns" role=navigation>
<div class="flex-l justify-between items-center center">
<a href=/ class="f3 fw2 hover-white no-underline white-90 dib">
Play With YYF
</a>
<div class="flex-l items-center">
<div class=ananke-socials>
</div>
</div>
</div>
</nav>
</div>
</header>
<main class=pb7 role=main>
<article class="flex-l flex-wrap justify-between mw8 center ph3">
<header class="mt4 w-100">
<aside class="instapaper_ignoref b helvetica tracked">
POSTS
</aside>
<div id=sharing class="mt3 ananke-socials">
</div>
<h1 class="f1 athelas mt3 mb1">P2P应用</h1>
<time class="f6 mv4 dib tracked" datetime=2021-01-19T15:42:44Z>January 19, 2021</time>
</header>
<div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>计算机网络/应用层/P2P应用</p>
<p>  P2P应用就是指具有P2P体系结构的网络应用。所谓P2P体系结构就是在这样的网络应用中，<strong>没有（或只有极少数的）固定的服务器</strong>，而绝大多数的交互都是使用<strong>对等方式</strong>（P2P方式）进行的。</p>
<h1 id=具有集中目录服务器的p2p工作方式第一代>具有集中目录服务器的P2P工作方式（第一代）</h1>
<p>  最早使用P2P工作方式的是Napster。Napster能够搜索音乐文件，能够提供检索功能。所有音乐文件的索引信息都集中存放在Napster目录服务器中。这个目录起着索引的作用。<br>
  Napster的文件传输是<strong>分散</strong>的（P2P方式），但文件的定位则是<strong>集中</strong>的（客户-服务器方式）。</p>
<h1 id=具有全分布式结构的p2p文件共享程序第二代第三代>具有全分布式结构的P2P文件共享程序（第二代、第三代）</h1>
<p>  Gnutella（第二代）是一种采用全分布方式定位内容的P2P文件共享应用程序。Gnutella与Napster最大的区别就是不使用集中式的目录服务器进行查询，而是使用<strong>洪泛法</strong>在大量Gnutella用户之间进行查询。为了不使查询的通信量过大，Gnutella设计了一种有限范围的洪泛查询。<br>
  第三代P2P共享文件程序使用<strong>分散定位</strong>和<strong>分散传输</strong>技术。如比特洪流BT(Bit Torrent)等。<br>
  BitTorrent把参与某个文件分发的所有对等方的集合称为一个<strong>洪流</strong>(torrent)。把对等方下载文件的数据单元称为<strong>文件块</strong>(chunk)，一个文件块的长度是固定不变的，例如，典型的数值是256KB。每一个洪流都有一个基础设施结点，叫做<strong>追踪器</strong>(tracker)。当一个对等方加入洪流时，必须向追踪器登记，并周期性地通知追踪器它仍在洪流中。<br>
  在任何时刻，每一个对等方可能只拥有某文件的一个文件块子集，而不同的对等方所拥有的文件块子集也不会完全相同。对等方A将通过TCP连接周期性地向相邻对等方索取他们拥有的文件块列表。根据收到的文件列表，A就知道了应当请求哪一个相邻对等方把哪些子集缺少的文件块发送过来。<br>
  然后A必须做出两个重要决定。第一，哪些文件块是首先需要向其他相邻对等方请求的？第二，在很多向A请求文件块的相邻对等方中，A应当向哪些相邻对等方发送所请求的文件块？
  对于第一个问题，A要使用叫做<strong>最稀有的优先的技术</strong>。A首先应当请求副本最少的文件块（即最稀有的）。否则，一旦拥有最稀有的文件块的对等方退出了洪流，就会影响A对所缺失文件块的收集。<br>
  对于第二个问题，BT采用一种更加机灵的算法，其基本思想是：凡是以<strong>最高数据率</strong>向A传送文件块的某相邻对等方，A就优先把所请求的文件块送给该相邻对等方。</p>
<p>参考文献：《计算机网络（第7版）》谢希仁著。</p><ul class=pa0>
<li class="list di">
<a href=/tags/%E7%AC%94%E8%AE%B0 class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">笔记</a>
</li>
</ul>
<div class="mt6 instapaper_ignoref">
</div>
</div>
<aside class="w-30-l mt6-l">
<div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
<p class="f5 b mb3">Related</p>
<ul class="pa0 list">
<li class=mb2>
<a href=/posts/2021-1-18-socket/>应用进程跨越网络的通信</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-18-snmp/>简单网络管理协议SNMP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-16-dhcp/>动态主机配置协议DHCP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-16-email/>电子邮件</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-15-www/>万维网WWW</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-14-ftp/>文件传送协议FTP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-13-dns/>域名系统DNS</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-12-connectionmanagement/>TCP的运输连接管理</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-11-congestioncontrol/>TCP的拥塞控制</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-10-flowcontrol/>TCP的流量控制</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-10-reliabletransmission/>TCP可靠传输的实现</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-9-headoftcp/>TCP报文段的首部格式</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-8-overviewoftcp/>传输控制协议TCP概述</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-8-udp/>用户数据报协议UDP</a>
</li>
<li class=mb2>
<a href=/posts/2021-1-7-overviewoftransportlayer/>运输层协议概述</a>
</li>
</ul>
</div>
</aside>
</article>
</main>
<footer class="bg-black bottom-0 w-100 pa3" role=contentinfo>
<div class="flex justify-between">
<a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=http://yyf.zone/>
&copy; Play With YYF 2022
</a>
<div>
<div class=ananke-socials>
</div></div>
</div>
</footer>
</body>
</html>